# üíª MAI Schedule Service

**–í–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –∞—É–¥–∏—Ç–æ—Ä–∏—è—Ö –∫–∞—Ñ–µ–¥—Ä—ã 806 –ú–ê–ò**.

---

## üìå –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

* [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
* [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
* [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
* [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
* [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
* [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
* [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
* [–ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥](#–∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥)
* [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ **–ø–∞—Ä—Å–∏—Ç—å** —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –ú–ê–ò —Å –ø–æ–º–æ—â—å—é Selenium.
* –°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –≤ SQLite –¥–ª—è –æ—Ñ–ª–∞–π–Ω-–¥–æ—Å—Ç—É–ø–∞ –∏ –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
* –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å **REST API** (Flask) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø –∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö/–∑–∞–Ω—è—Ç—ã—Ö –∞—É–¥–∏—Ç–æ—Ä–∏–π.
* –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å **Google Calendar** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

---

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* **–ü–∞—Ä—Å–µ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è** –Ω–∞ –æ—Å–Ω–æ–≤–µ undetected\_chromedriver.
* **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø –∏ –∑–∞–¥–∞–Ω–∏–π (JSON‚Äë—Ñ–∞–π–ª—ã).
* **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –∞—É–¥–∏—Ç–æ—Ä–∏–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (occupied/free rooms).
* **JWT‚Äë–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** –¥–ª—è CRUD‚Äë–æ–ø–µ—Ä–∞—Ü–∏–π (—Ä–æ–ª–∏: student, teacher, admin).
* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å Google Calendar: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π.
* **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å**: –≤—ã–±–æ—Ä –Ω–µ–¥–µ–ª—å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∞—É–¥–∏—Ç–æ—Ä–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã.

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```text
‚îú‚îÄ‚îÄ backend/                  # –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ parser/               # –ü–∞—Ä—Å–µ—Ä (Selenium)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser.py         # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ groups_parser.py  # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mai_schedule.db   # –ë–î —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ database/             # –ú–æ–¥—É–ª—å —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py       # –§—É–Ω–∫—Ü–∏–∏ create/query/execute
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ filter_db.py      # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è occupied/free rooms
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ api/                  # REST API (Flask)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py         # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ google_sync.py    # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google Calendar
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ delete_events.py  # –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏–∑ Google Calendar
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ notifier/             # (–≤ –±—É–¥—É—â–µ–º) —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ frontend/                 # (–≤ –±—É–¥—É—â–µ–º) –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ
‚îú‚îÄ‚îÄ docs/                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Business Requirements.docx
‚îÇ   ‚îî‚îÄ‚îÄ System Requirements.docx
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt          # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .gitignore                # –ò—Å–∫–ª—é—á–µ–Ω–∏—è Git
‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:

   ```bash
   git clone https://github.com/Diwan1337/mai_schedule_project.git
   ```
   ```
   cd mai_schedule_project
   ```
2. **–°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:

   ```bash
   python -m venv .venv
   ```
   # Windows
   ```
   .\.venv\Scripts\activate
   ```
   # Linux/macOS
   ```
   source .venv/bin/activate
   ```
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:

   ```bash
   pip install -r requirements.txt
   ```

---

## ‚ñ∂Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

```bash
cd backend/parser
```
```
python parser.py --weeks 1,2,3
```

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–π

```bash
cd ../database
```
```
python filter_db.py
```

### 3. –ó–∞–ø—É—Å–∫ API-—Å–µ—Ä–≤–µ—Ä–∞

```bash
cd ../api
```
```
python -m api.routes
```

### 4. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å API

* –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø: `GET /groups`
* –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø—ã: `GET /schedule?group=G1&week=5`
* –ü–æ–ª—É—á–∏—Ç—å –∑–∞–Ω—è—Ç—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã: `GET /occupied_rooms`
* –î–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ (—Ç–æ–ª—å–∫–æ teacher/admin): `POST /schedule`
* –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—É —Å Google Calendar: `POST /calendar/sync_group` (JWT)

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd backend
```
```
python test_routes.py
```

---

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥

1. –°–¥–µ–ª–∞–π—Ç–µ fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É: `git checkout -b feat/your-feature`
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞–π—Ç–µ commit: `git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ"`
4. Push –≤ –≤–µ—Ç–∫—É: `git push origin feat/your-feature`
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º–æ—Ç—Ä–∏ [LICENSE](LICENSE).
