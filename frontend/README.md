# Frontend

Это клиентская часть приложения для управления расписанием и пользователями. Включает HTML, CSS и JavaScript (jQuery, Axios, Bootstrap).

## Оглавление

* [Требования](#требования)
* [Установка и запуск](#установка-и-запуск)
* [Структура папки](#структура-папки)
* [Конфигурация](#конфигурация)
* [Работа с кодом](#работа-с-кодом)
* [Контакты и поддержка](#контакты-и-поддержка)

---

## Требования

1. Запущенный бекенд-сервер на `http://127.0.0.1:5000` (Flask-приложение из папки `backend`).
2. В браузере с поддержкой ES6 и CORS (Chrome, Firefox, Edge и т. п.).
3. Вольный порт (например, `8000`) для статической отдачи, если фронтенд не подключается к Flask напрямую.

## Установка и запуск

1. **Запустите бекенд** (в корне проекта):

   ```bash
   # если вы находитесь в папке frontend, поднимитесь на уровень выше
   cd ..
   # запустите Flask API-сервер
   python -m backend.api.routes
   ```

2. **Перейдите в папку frontend**:

   ```bash
   cd frontend
   ```

3. **Запустите статический сервер** для разработки (при необходимости):

   ```bash
   python -m http.server 8000
   ```

4. **Откройте в браузере**:

   * Если статику отдает Flask:  `http://127.0.0.1:5000/index.html`
   * Если через `http.server`:   `http://127.0.0.1:8000/index.html`

> **Важно:** перед запуском фронтенда убедитесь, что бекенд доступен по адресу, указанному в `script.js` (по умолчанию `axios.defaults.baseURL = 'http://127.0.0.1:5000'`).

## Структура папки

```
frontend/
├── index.html      # основная страница приложения
├── style.css       # стили
└── script.js       # логика клиентской части (jQuery + Axios)
```

* **index.html**
  — точка входа: подключает Bootstrap, jQuery и `script.js`.

* **style.css**
  — кастомные стили для календаря и модалок.

* **script.js**
  — инициализация UI (автокомплит, datepicker, навигация).
  — функции работы с расписанием и пользователями через Axios.
  — обработчики событий (логин, регистрация, добавление/редактирование/удаление пар, управление пользователями).

## Конфигурация

* **Backend URL**
  По умолчанию в `script.js`:

  ```js
  axios.defaults.baseURL = 'http://127.0.0.1:5000';
  ```

  При необходимости измените на свой адрес.

* **JWT токен**
  При логине токен сохраняется в `axios.defaults.headers.common['Authorization']`.

* **Недельный оффсет**
  Параметр `ACADEMIC_WEEK_OFFSET` в `script.js` задаёт смещение для ISO-недели.

## Работа с кодом

* Открывайте модальные окна через селекторы:

  * `#addModal` — добавить пару
  * `#editModal` — редактировать пару
  * `#usersModal` — управление пользователями

* Основные функции:

  * `loadRooms()`     — загрузить и отобразить расписание кабинета
  * `renderCalendar` — сформировать HTML-карточки событий
  * `loadUsers()`     — загрузить список пользователей
  * `promoteUser(id)` / `demoteUser(id)` — назначить/забрать роль

* Ошибки запросов выводятся через `alert` и `console.error`.

## Контакты и поддержка

Если у вас возникли вопросы или замечания по фронтенду, создайте issue в репозитории или напишите разработчику проекта.
